<Window x:Class="StageManagementSystem.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:StageManagementSystem"
        xmlns:views="clr-namespace:StageManagementSystem.Views"
        mc:Ignorable="d"
        Title="Stage &amp; Afstudeer Management" Height="700" Width="1000"
        MinHeight="600" MinWidth="900"
        WindowStyle="SingleBorderWindow" ResizeMode="CanResize"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource Gray100}"> <!-- Using Gray100 as base background -->
    
    <Grid Background="{DynamicResource Gray100}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Header -->
            <RowDefinition Height="Auto"/> <!-- Dashboard -->
            <RowDefinition Height="*"/>    <!-- Main Content -->
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Background="{DynamicResource SurfaceBrush}" Padding="24,16" BorderBrush="{DynamicResource Gray200}" BorderThickness="0,0,0,1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Orientation="Horizontal">
                    <Border CornerRadius="10" Width="40" Height="40" Margin="0,0,12,0">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#4f46e5" Offset="0"/>
                                <GradientStop Color="#7c3aed" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="ðŸŽ“" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
                    </Border>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="Stage &amp; Afstudeer Management" FontSize="18" FontWeight="Bold" Foreground="{DynamicResource Gray800}"/>
                        <TextBlock Text="HBO-ICT Begeleiding" FontSize="12" Foreground="{DynamicResource Gray600}"/>
                    </StackPanel>
                </StackPanel>

                <Button Grid.Column="2" Content="ðŸŒ™" 
                        Margin="0,0,12,0"
                        Width="40" Height="40"
                        Padding="0" FontSize="18"
                        Click="ToggleTheme_Click"
                        Style="{StaticResource BtnSecondary}"
                        ToolTip="Toggle Dark Mode"/>

                <Button Grid.Column="3" Content="ðŸ“¥ Importeer" 
                        Command="{Binding ImportCommand}" 
                        Margin="0,0,12,0"
                        Style="{StaticResource BtnSecondary}"/>

                <Button Grid.Column="4" Content="ðŸ“¤ Exporteer" 
                        Command="{Binding ExportCommand}" 
                        Margin="0,0,12,0"
                        Style="{StaticResource BtnSecondary}"/>

                <Button Grid.Column="5" Content="âž• Nieuwe Student" 
                        Command="{Binding AddStudentCommand}" 
                        Style="{StaticResource BtnPrimary}"/>
            </Grid>
        </Border>

        <!-- Dashboard (Collapsible if needed, but for now fixed top) -->
        <views:DashboardView Grid.Row="1" Margin="24,24,24,0"/>

        <!-- Main Content (List + Detail) -->
        <Grid Grid.Row="2" Margin="24">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="380" MinWidth="300" MaxWidth="600"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <views:StudentListView Grid.Column="0" DataContext="{Binding StudentListViewModel}"/>
            
            <!-- Splitter -->
            <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Center" VerticalAlignment="Stretch" Background="Transparent" ShowsPreview="True"/>
            
            <views:StudentDetailView Grid.Column="2" Margin="10,0,0,0" DataContext="{Binding StudentDetailViewModel}"/>
        </Grid>
    </Grid>
</Window>
